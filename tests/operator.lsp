(deftest "operator")

(assert-eq '(% 5 2) '1)
(assert-eq '(% 15 3) '0)
(assert-eq '(** 3 3) '27)
(assert-eq '(// 3 2) '1.5)
(assert-error '(// "3" 2) )
(assert-eq '(/ 3 2) '1)
(assert '(== (+ 0.1 0.2) 0.3))
(assert '(!= (+ 0.1 0.2) 0.1))

(setq a 1)
(+= 'a 1)
(assert-eq 'a '2)
(-= 'a 1)
(assert-eq 'a '1)
(*= 'a 5)
(assert-eq 'a '5)
(//= 'a 2)
(assert-eq 'a '2.5)
(setq a 3)
(%= 'a 2)
(assert-eq 'a '1)
(setq a 2)
(**= 'a 2)
(assert-eq 'a '4)
(_/= 'a 3)
(assert-eq 'a '1)

(setq a 60 b 13)
(assert-eq '(& a b) '12)
(assert-eq '(| a b) '61)
(assert-eq '(^ a b) '49)
(assert-eq '(~ a) '-61)
(assert-eq '(<< a 2) '240)
(assert-eq '(>> a 2) '15)

(assert '(in 1 (list 1 2 3)))
(assert '(not_in 4 (list 1 2 3)))
(assert '(in "1" "123"))
(assert '(not_in "4" "123"))
(assert-error '(in 1 "123"))
(assert-error '(in "1" 123))
(assert-error '(not_in "1" 123))
